define(["controllers/controllers","config"],function(e,t){e.controller("scheaduler",["$scope","$timeout",function(e,t){e.$watch(function(){e.scheaduled&&_.each(e.scheaduled.offsets,function(e){e.mon==0&&e.tue==0&&e.wed==0&&e.thu==0&&e.fri==0&&e.sat==0&&e.sun==0&&(e.mon=!0);var t=3600,n=60,r=e.time.split(":"),i=r[0]*t+r[1]*n;r[0]!=e.hour&&(e.hour=r[0]),r[1]!=e.minute&&(e.minute=r[1]),e.exact!=i&&(e.exact=i)})}),e.addNewOffset=function(){t(function(){if(e.scheaduled.offsets[0]){var t=3600,n=60,r=e.scheaduled.offsets[0].time.split(":"),i=r[0]*t+r[1]*n;e.scheaduled.offsets[i]=e.scheaduled.offsets[0],e.scheaduled.offsets[i].exact=i}e.scheaduled.offsets[0]={mon:!0,tue:!1,wed:!1,thu:!1,fri:!1,sat:!1,sun:!1,hour:0,minute:0,time:"00:00",exact:0},e.scheaduleCounter()})},e.remover=function(t){delete e.scheaduled.offsets[t],e.scheaduleCounter()}}])});