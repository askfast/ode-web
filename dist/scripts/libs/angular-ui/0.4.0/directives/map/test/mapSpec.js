xdescribe("uiMap",function(){function r(t,r){e.gmapOptions=t||{},e.gmapEvents=r||{},n("<div ui-map='gmap' ui-options='gmapOptions'' ui-event='gmapEvents'></div>")(e)}function i(t,r,i){e.gOptions=t||{},e.gEvents=r||{},i=i||angular.element("");var s=angular.element("<div ui-map-info-window='ginfo' ui-options='gOptions' ui-event='gEvents'></div>");s.append(i),n(s)(e)}var e,t,n;beforeEach(module("ui.directives")),beforeEach(inject(function(e,r){t=r,n=e})),describe("test",function(){beforeEach(function(){e=t.$new()}),it("should bind google map object to scope",function(){r(),expect(e.gmap).toBeTruthy()}),it("should create google map with given options",function(){var t=new google.maps.LatLng(40,40);r({center:t}),expect(e.gmap.getCenter()).toBe(t)}),it('should pass events to the element as "map-eventname"',function(){e.zoomy=!1,e.county=0,r({},{"map-zoom_changed":"zoomy = true","map-dblclick map-dragend":"county = county + 1"}),google.maps.event.trigger(e.gmap,"zoom_changed"),expect(e.zoomy).toBeTruthy(),google.maps.event.trigger(e.gmap,"dblclick"),expect(e.county).toBe(1),google.maps.event.trigger(e.gmap,"dragend"),expect(e.county).toBe(2)})}),describe("test infoWindow",function(){beforeEach(function(){e=t.$new()}),it("should bind info window to scope",function(){i(),expect(e.ginfo).toBeTruthy()}),it("should create info window with given options & content",function(){var t=$("<h1>Hi</h1>");i({zIndex:5},{},t),expect(e.ginfo.getZIndex()).toBe(5),expect(e.ginfo.getContent().innerHTML).toBe($("<div>").append(t).html())}),it("should $compile content and recognize scope changes",function(){var t=$('<input ng-model="myVal">');i({},{},t),r(),e.$apply(function(){e.myVal="initial"}),e.ginfo.open(e.gmap,e.gmap.getCenter()),expect(t.val()).toBe("initial"),e.$apply(function(){e.myVal="final"}),expect(t.val()).toBe("final")}),it('should recognize infowindow events in ui-event as "map-eventname"',function(){i({},{"map-closeclick":"closed = true"}),r(),google.maps.event.trigger(e.ginfo,"closeclick"),expect(e.closed).toBe(!0)})})});