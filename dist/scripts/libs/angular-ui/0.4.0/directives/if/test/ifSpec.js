describe("ui-if",function(){function r(r){n.append(t('<div ui-if="'+r+'"><div>Hi</div></div>')(e)),e.$apply()}var e,t,n;beforeEach(module("ui.directives")),beforeEach(inject(function(r,i){e=r.$new(),t=i,n=$("<div>")})),it("should immediately remove element if condition is false",function(){r("false"),expect(n.children().length).toBe(0)}),it("should leave the element if condition is true",function(){r("true"),expect(n.children().length).toBe(1)}),it("should create then remove the element if condition changes",function(){e.hello=!0,r("hello"),expect(n.children().length).toBe(1),e.$apply("hello = false"),expect(n.children().length).toBe(0)}),it("should create a new scope",function(){e.$apply("value = true"),n.append(t('<div ui-if="value"><span ng-init="value=false"></span></div>')(e)),e.$apply(),expect(n.children("div").length).toBe(1)}),it("should play nice with other elements beside it",function(){e.values=[1,2,3,4],n.append(t('<div ng-repeat="i in values"></div><div ui-if="values.length==4"></div><div ng-repeat="i in values"></div>')(e)),e.$apply(),expect(n.children().length).toBe(9),e.$apply("values.splice(0,1)"),expect(n.children().length).toBe(6),e.$apply("values.push(1)"),expect(n.children().length).toBe(9)})});