angular.module("ui.bootstrap",["ui.bootstrap.modal"]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){var t=[];for(var n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){var n=-1;for(var r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(e,t){return{restrict:"EA",replace:!0,templateUrl:"vendors/angular-ui-bootstrap/template/modal/backdrop.html",link:function(n,r,i){t(function(){n.animate=!0}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&n.value.backdrop!="static"&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalWindow",["$timeout",function(e){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"vendors/angular-ui-bootstrap/template/modal/window.html",link:function(t,n,r){t.windowClass=r.windowClass||"",e(function(){t.animate=!0})}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(e,t,n,r){function l(){var e=-1,t=a.keys();for(var n=0;n<t.length;n++)a.get(t[n]).value.backdrop&&(e=n);return e}function c(e){var t=a.get(e).value;a.remove(e),t.modalDomEl.remove(),l()==-1&&(s.remove(),s=undefined),t.modalScope.$destroy()}var i,s,o=n.$new(!0),u=e.find("body").eq(0),a=r.createNew(),f={};return n.$watch(l,function(e){o.index=e}),e.bind("keydown",function(e){var t;e.which===27&&(t=a.top(),t&&t.value.keyboard&&n.$apply(function(){f.dismiss(t.key)}))}),f.open=function(e,n){a.add(e,{deferred:n.deferred,modalScope:n.scope,backdrop:n.backdrop,keyboard:n.keyboard});var r=angular.element("<div modal-window></div>");r.attr("window-class",n.windowClass),r.attr("index",a.length()-1),r.html(n.content);var f=t(r)(n.scope);a.top().value.modalDomEl=f,u.append(f),l()>=0&&!s&&(i=angular.element("<div modal-backdrop></div>"),s=t(i)(o),u.append(s))},f.close=function(e,t){var n=a.get(e);n&&(n.value.deferred.resolve(t),c(e))},f.dismiss=function(e,t){var n=a.get(e).value;n&&(n.deferred.reject(t),c(e))},f.getTop=function(){return a.top()},f}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,r,i,s,o,u){function f(e){return e.template?r.when(e.template):i.get(e.templateUrl,{cache:s}).then(function(e){return e.data})}function l(e){var n=[];return angular.forEach(e,function(e,i){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var a={};return a.open=function(t){var i=r.defer(),s=r.defer(),a={result:i.promise,opened:s.promise,close:function(e){u.close(a,e)},dismiss:function(e){u.dismiss(a,e)}};t=angular.extend({},e.options,t),t.resolve=t.resolve||{};if(!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var c=r.all([f(t)].concat(l(t.resolve)));return c.then(function(r){var s=(t.scope||n).$new();s.$close=a.close,s.$dismiss=a.dismiss;var f,l={},c=1;t.controller&&(l.$scope=s,l.$modalInstance=a,angular.forEach(t.resolve,function(e,t){l[t]=r[c++]}),f=o(t.controller,l)),u.open(a,{scope:s,deferred:i,content:r[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass})},function(t){i.reject(t)}),c.then(function(){s.resolve(!0)},function(){s.reject(!1)}),a},a}]};return e});