define(["services/services"],function(e){e.factory("States",["$location","$rootScope","Session",function(e,t,n){t.$on("$routeChangeStart",function(){t.loaderIcons={general:!1,dashboard:!1,planboard:!1,messages:!1,groups:!1,profile:!1,settings:!1};switch(e.path()){case"/dashboard":t.loaderIcons.dashboard=!0,t.location="dashboard";break;case"/planboard":t.loaderIcons.planboard=!0,t.location="planboard";break;case"/messages":t.loaderIcons.messages=!0,t.location="messages";break;case"/groups":t.loaderIcons.groups=!0,t.location="groups";break;case"/settings":t.loaderIcons.settings=!0,t.location="settings";break;default:e.path().match(/profile/)?(t.loaderIcons.profile=!0,t.location="profile"):t.loaderIcons.general=!0}e.path().match(/logout/)&&(t.location="logout",$("#watermark").hide());if(!t.location)try{ga("send","Undefined Page",e.path())}catch(r){}try{ga("send","pageview",{page:"/index.html#/"+t.location||"login",title:t.location||"login"})}catch(r){}e.path()!="/tv"&&!n.check()&&e.path("/login"),t.loadingBig=!0,t.statusBar.display("Aan het laden..."),$("div[ng-view]").hide()}),t.$on("$routeChangeSuccess",function(){t.newLocation=e.path(),t.loadingBig=!1,t.statusBar.off(),$("div[ng-view]").show()}),t.$on("$routeChangeError",function(e,n,r,i){t.notifier.error(i)})}])});