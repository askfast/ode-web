define(["services/services"],function(e){e.factory("User",function(e,t,n,r,i,s,o,u,a){var f=t();return f.prototype.login=function(e,t){var r=n.defer();try{o._("login",{uuid:e.toLowerCase(),pass:s.createHash(t)}).then(function(e){e.error||u.set(e["X-SESSION_ID"]),r.resolve(e)})}catch(a){i.error("Something went wrong with login call:",a)}return r.promise},f.prototype.logout=function(){var e=n.defer();try{o._("logout").then(function(t){u.clear(),e.resolve(t)})}catch(t){i.error("Something went wrong with logout call:",t)}return e.promise},f.prototype.resources=function(){var t=n.defer();try{o._("resources").then(function(n){a("user").save("resources",n),e.StandBy.resources=n,t.resolve(n)})}catch(r){i.error("Something went wrong with resources call:",r)}return t.promise},new f})});