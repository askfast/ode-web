.tab-header
  .pull-left
    select.form-control(ng-model='current',
    ng-options='group.uuid as group.name for group in groups',
    ng-selected='current',
    ng-change='requestGroup(current); sorter="resources.lastName"; reverse=false;')
  .pull-right
    button.btn.btn-default(type='button',
    style='margin-right: 5px;',
    data-content-template="views/groups-wish.html",
    bs-popover='',
    data-placement='bottom',
    data-title='Behoefte wijzigen')
      span.badge.badge-inset(ng-show='wished')
        | {{wish}}
      | &nbsp;{{ui.groups.requiredPeople}}
    button.btn.btn-default(type='button', ng-click='editGroup(group)', style='margin-right: 5px;')
      i.glyphicon.glyphicon-edit
      | &nbsp;{{ui.groups.editGroup}}
    button.btn.btn-danger(type='button', ng-click='confirmGroupDelete(group.uuid)')
      i.glyphicon.glyphicon-trash.glyphicon-white
      | &nbsp;{{ui.groups.deleteGroup}}
  .pull-right(style='margin-right: 5px;')
    input.form-control.search-query(type='text',
    placeholder='{{ui.groups.filterMembers}}',
    ng-model='filtered')
hr
p(ng-hide='(data.members[group.uuid]|filter:filtered|filterSupers).length > 0')
  | {{ui.groups.noMembers}}
div(ng-show='(data.members[group.uuid]|filter:filtered|filterSupers).length > 0')
  table.table.table-striped
    thead
      tr
        th
          input(type='checkbox', ng-model='selectionMaster',
          ng-click='toggleSelection(group, selectionMaster)')
        th
          a(ng-click='toggleSorter("resources.firstName")') {{ui.groups.firstName}}
          span(ng-show='(sorter=="resources.firstName")')
            span(ng-hide='reverse') ▲
            span(ng-show='reverse') ▼
        th
          a(ng-click='toggleSorter("resources.lastName")') {{ui.groups.lastName}}
          span(ng-show='(sorter=="resources.lastName")')
            span(ng-hide='reverse') ▲
            span(ng-show='reverse') ▼
        //
          <th ng-hide="config.profile.smartAlarm">
        th
          a(ng-click='toggleSorter("resources.role")') {{ui.groups.role}}
          span(ng-show='(sorter=="resources.role")')
            span(ng-hide='reverse') ▲
            span(ng-show='reverse') ▼
        th(ng-show='PhoneAddressesExist')
          | {{ui.groups.tel}}
          //
            <a ng-click="toggleSorter('resources.phoneAddress')">{{ui.groups.tel}}</a>&nbsp;
          //
            <span ng-show="(sorter=='resources.phoneAddress')">
          //
            <span ng-hide="reverse">&#9650;</span>
          //
            <span ng-show="reverse">&#9660;</span>
          //
            </span>
        th
    tbody
      tr(ng-repeat='member in data.members[group.uuid]|filter:filtered|orderBy:sorter:reverse|filterSupers')
        td
          input(type='checkbox',
          ng-model='selection[member.uuid]',
          ng-checked='selectionMaster',
          ng-hide='member.resources.role == 0')
        td {{member.resources.firstName}}
        td {{member.resources.lastName}}
        //
          <td ng-hide="config.profile.smartAlarm">{{member.resources.role | translateRole}}</td>
        td {{member.resources.role | translateRole}}
        td(ng-show='PhoneAddressesExist') {{member.resources.PhoneAddresses[0]}}
        td
          .pull-right
            a.btn.btn-default.btn-xs(href='#/profile/{{member.uuid}}#profile')
              i.glyphicon.glyphicon-user
            span(ng-hide='member.resources.role == 0')
              | &nbsp;&nbsp;
              a.btn.btn-default.btn-xs(href='#/profile/{{member.uuid}}#edit')
                i.glyphicon.glyphicon-edit
              | &nbsp;
              button.btn.btn-danger.btn-xs(type='submit', ng-click='removeMember(member.uuid, group.uuid)')
                i.glyphicon.glyphicon-remove.glyphicon-white
  button.btn.btn-sm.btn-danger.pull-left(type='button', ng-click='removeMembers(selection, group)')
    i.glyphicon.glyphicon-trash.glyphicon-white
    | &nbsp;{{ui.groups.removeSelectedMembers}}
  span.text-muted.pull-right
    small
      i
        | {{(data.members[group.uuid]|filter:filtered|filterSupers).length | i18n_spec:'groups.memberCount'}}